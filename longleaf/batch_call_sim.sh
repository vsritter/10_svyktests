
# Variables used on the R script
module load r/4.0.3

array_env_simid=(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54)
array_env_seed=(68180 57782 80662 61071 5044 51846 9707 62344 13345 47098 46651 26532 39614 95605 78145 8577 2085 79799 96515 28983 42641 54353 92858 31917 32333 17008 42473 17833 61116 49501 64131 23553 32442 66337 29228 43233 91227 87214 2661 73038 84152 78462 93258 22761 38555 18840 81808 50994 98073 94538 35189 85768 42885 94156)
array_env_s_size=(500 500 500 500 500 500 500 500 500 500 500 500 500 500 500 500 500 500 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 2000)
array_env_cens=(20 20 20 20 20 20 20 20 20 50 50 50 50 50 50 50 50 50 20 20 20 20 20 20 20 20 20 50 50 50 50 50 50 50 50 50 20 20 20 20 20 20 20 20 20 50 50 50 50 50 50 50 50 50)
array_env_psu_size=(5 5 5 20 20 20 100 100 100 5 5 5 20 20 20 100 100 100 5 5 5 20 20 20 100 100 100 5 5 5 20 20 20 100 100 100 5 5 5 20 20 20 100 100 100 5 5 5 20 20 20 100 100 100)
array_env_effect=(0 1 2 0 1 2 0 1 2 0 1 2 0 1 2 0 1 2 0 1 2 0 1 2 0 1 2 0 1 2 0 1 2 0 1 2 0 1 2 0 1 2 0 1 2 0 1 2 0 1 2 0 1 2)

env_test=(pepe gray)
env_rep=500

export ENV_REP=${env_rep}
for t in ${!env_test[@]}; do
  export ENV_TEST=${env_test[t]}
  for idx in ${!array_env_simid[@]}; do
    export ENV_SIMID=${array_env_simid[idx]}
    export ENV_SEED=${array_env_seed[idx]}
    export ENV_S_SIZE=${array_env_s_size[idx]}
    export ENV_CENS=${array_env_cens[idx]}
    export ENV_PSU_SIZE=${array_env_psu_size[idx]}
    export ENV_EFFECT=${array_env_effect[idx]}
    sbatch longleaf/call_sim.sh
  done
done














